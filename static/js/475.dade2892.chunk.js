"use strict";(self.webpackChunkminifigs=self.webpackChunkminifigs||[]).push([[475],{2475:function(e,r,s){s.r(r),s.d(r,{default:function(){return D}});var t=s(8687),a=s(184),i=function(e){var r=e.message;return(0,a.jsx)("article",{className:"error",children:(0,a.jsxs)("div",{className:"message",children:[(0,a.jsx)("p",{className:"message__general-message",children:"Hi, \ud83d\ude00"}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"message__error-message",children:r||""})]})})},n=s(2791),l=n.memo((function(){return(0,a.jsx)("div",{children:"It seems that Dementors sucked all the parts \ud83d\ude29"})})),c=s(1413),d=s(5290),o=s(7689),m=s(1436),u="minifigs-ordr-form-id",h=s(5367),x=s(3714),p=function(e){var r=e.result;return r?r.isError&&(0,a.jsx)("span",{children:r.errorMessage}):null},f=s(5861),j=s(4687),N=s.n(j),g=s(3929),v=s(7721),y=s(5796),b=(0,t.$j)(null,(function(e){return{sendOrder:function(r,s,t){return e(function(e,r,s){var t={headers:{"Content-type":"application/json; charset=UTF-8"}};return function(){var a=(0,f.Z)(N().mark((function a(i){return N().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:g.Z.post("https://jsonplaceholder.typicode.com/posts",s,t).then((function(s){if(s)try{r.success("Your order has been successfully proceeded"),setTimeout((function(){return e(y.n.intro)}),5e3)}catch(t){i((0,v.showError)({isError:!0,errorMessage:"Error occured during order placing"}))}else i((0,v.showError)({isError:!0,errorMessage:"Empty data received from receiver's endpoint"}))})).catch((function(e){var r;r=g.Z.isAxiosError(e)?{isError:!0,errorMessage:"The following error occured when placing order: "+e.message}:{isError:!0,errorMessage:"Unknown error occured when placing order"},i((0,v.showError)(r))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,s,t))}}}))((function(e){var r=e.sendOrder,s=(0,t.v9)(m.eW),i=(0,n.useRef)(null),l=(0,o.s0)(),f=(0,h.UD)(),j=(0,d.cI)(),N=j.register,g=j.handleSubmit,v=j.formState.errors,y=(0,n.useMemo)((function(){return v}),[v]),b=(0,h.jk)(y,x.N3);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"details",id:u,onSubmit:g((function(){var e=new FormData(i.current);s&&(e.append("setNumber",s),e&&r(l,f,e))})),ref:i,children:[(0,a.jsx)("h1",{className:"fromLeft",children:"Shipping details"}),(0,a.jsx)("div",{className:"foo",id:"foo"}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"firstName",children:"Name"}),(0,a.jsx)("input",(0,c.Z)((0,c.Z)({type:"text"},N("firstName",x.z2.firstName)),{},{id:"firstName"})),b&&(0,a.jsx)(p,{result:b.firstName})]}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Surname",children:"Surname"}),(0,a.jsx)("input",(0,c.Z)({id:"Surname",type:"text"},N("surName",x.z2.surName))),b&&(0,a.jsx)(p,{result:b.surName})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Phone",children:"Phone Number"}),(0,a.jsx)("input",(0,c.Z)({id:"Phone",placeholder:"Mobile or regular Polish phone with country code like 048 669086566",type:"text"},N("phone",x.z2.phone))),b&&(0,a.jsx)(p,{result:b.phone})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",(0,c.Z)({id:"email",type:"text"},N("email",x.z2.email))),b&&(0,a.jsx)(p,{result:b.email})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{htmlFor:"DoB",children:"Date of Birth"}),(0,a.jsx)("input",(0,c.Z)({id:"DoB",placeholder:"Date in yyyy-mm-dd or yyyy-m-dd format ",type:"text"},N("dob",x.z2.dob))),b&&(0,a.jsx)(p,{result:b.dob})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"address",children:"Address"}),(0,a.jsx)("input",(0,c.Z)({type:"text",id:"address"},N("address",x.z2.address))),b&&(0,a.jsx)(p,{result:b.address})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"city",children:"City"}),(0,a.jsx)("input",(0,c.Z)({type:"text",id:"city"},N("city",x.z2.city))),b&&(0,a.jsx)(p,{result:b.city})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"state",children:"State"}),(0,a.jsx)("input",(0,c.Z)({type:"text",id:"state"},N("state",x.z2.state)))]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"ZipCode",children:"Zip Code"}),(0,a.jsx)("input",(0,c.Z)({id:"ZipCode",type:"text",placeholder:" zip code in format xx-xxx"},N("zip",x.z2.zip))),b&&(0,a.jsx)(p,{result:b.zip})]})]})})})),_=function(e){var r=e.data,s=e.loadHandler;return(0,a.jsxs)("div",{className:"part",children:[(0,a.jsx)("img",{className:"part__image",src:r.part.part_img_url,alt:r.part.name,onLoad:s,onError:s}),(0,a.jsxs)("div",{className:"part__text-items",children:[(0,a.jsx)("div",{className:"part__item part__name",children:r.part.name}),(0,a.jsx)("a",{className:"part__item part__code",href:r.part.part_img_url,target:"blank",children:r.part.part_num})]})]})},w=s(6666),Z=s.n(w),E=s(763),F=s(7480),k=s(8592),z=s(9874),S=function(){var e=(0,t.v9)(m.eW),r=(0,z.B)(e,{skip:(0,k.Z)()}),s=r.data,i=r.isFetching,c=r.isError,d=(0,n.useRef)(null),o=s?(0,E.after)(s.length,(function(){var e;null===(e=d.current)||void 0===e||e.classList.add("active")})):function(){};return i?(0,a.jsx)(F.TF,{}):c?(0,a.jsx)(l,{}):s&&!(0,E.isEmpty)(s)?(0,a.jsx)("div",{className:"parts",ref:d,children:s.map((function(e){return(0,a.jsx)(_,{data:e,loadHandler:o},Z()())}))}):(0,a.jsx)(l,{})},C=function(){var e=(0,t.v9)(m.jX);if(!e)return null;var r=e.name,s=e.num_parts,i=e.set_img_url,n="There are ".concat(s," parts in this minifig:");return(0,a.jsxs)("div",{className:"summary__main items",children:[(0,a.jsx)("h2",{className:"black fromLeft",children:"Summary"}),(0,a.jsxs)("div",{className:"minifigCard minifigCard--no-padding",children:[r&&i&&(0,a.jsx)(F.t,{name:r,imageURL:i}),r&&(0,a.jsx)(F.VG,{name:r})]}),s&&(0,a.jsx)("p",{children:n})]})},M=function(){return(0,a.jsxs)("div",{className:"summary",children:[(0,a.jsx)(C,{}),(0,a.jsx)(S,{}),(0,a.jsx)(F.kD,{className:"button uppercased",type:"submit",form:u,children:"Submit"})]})},q=function(){return(0,k.Z)()?(0,a.jsx)(i,{message:"No Internet connection, try again some later"}):(0,a.jsxs)("main",{className:"order",children:[(0,a.jsx)(b,{}),(0,a.jsx)(M,{})]})},D=(0,t.$j)((function(e){return{message:e.fetch.message,isMessage:e.fetch.isMessage}}),{})(q)}}]);
//# sourceMappingURL=475.dade2892.chunk.js.map