{"version":3,"file":"static/js/243.b1e4c81a.chunk.js","mappings":"ySAuEA,EApDe,SAACA,GACZ,IAAQC,EAAaD,EAAbC,SACFC,GAAUC,EAAAA,EAAAA,MAChB,GAAgCC,EAAAA,EAAAA,UAA0B,IAA1D,eAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAM,gDAAmDF,EAAqBG,QAAxE,+CAEZ,GAAuDC,EAAAA,EAAAA,cAAa,CAChEC,IAAKH,IADT,eAAOI,EAAP,YAAkBC,EAAlB,EAAkBA,KAAMC,EAAxB,EAAwBA,MAGxB,GAHA,EAA+BC,SAGUC,EAAAA,EAAAA,MAAjCC,EAAR,EAAQA,mBAAoBC,EAA5B,EAA4BA,UAC5BC,EAAAA,EAAAA,YAAU,WACFN,GAASA,EAAiBO,SAC1BF,EAAUL,EAAiBO,SAE/BN,GAASI,EAASJ,GAClBD,GAAQV,EAAQkB,KAAKC,EAAAA,EAAAA,SAEtB,CAACT,EAAMC,IAEV,IAAMS,GAAgBC,EAAAA,EAAAA,cAAY,SAACC,GAC/BlB,EAAYkB,KACb,IAEH,OACI,gBAAKC,UAAU,SAAf,UACI,iBAAKA,UAAU,sBAAf,WACI,iDACA,SAACC,EAAA,EAAD,CAAMC,IAAI,EAAMC,QAAS,KAAzB,UACI,gBAAKH,UAAU,SAAf,SACKxB,GACGA,EAAS4B,KAAI,SAAAC,GACT,OAAOA,IAAO,SAAC,KAAD,CAAoBN,QAASM,EAAKC,aAAcT,EAAeU,WAAYC,GAAAA,CAAQH,EAAKzB,IAA5E6B,GAAAA,YAI1C,SAAC,KAAD,CACIC,UAAUC,EAAAA,EAAAA,SAAQ/B,GAClBoB,UAAU,oBACVY,QAAS,SAAAC,GACLA,EAAEC,kBACFvB,EAAmBX,GACnBM,KANR,uCC9ChB,GAAe6B,EAAAA,EAAAA,KAAWC,EAAAA,EAAAA,KAJF,SAACC,GAAD,MAA2B,CAC/CzC,SAAUyC,EAAMC,MAAM1C,YAGyB,GAAzBwC,CAA6BG","sources":["Pages/Select_Page/Select.tsx","Pages/Select_Page/index.ts"],"sourcesContent":["import uuid from \"react-uuid\";\r\nimport isEqual from \"lodash/isEqual\";\r\nimport Fade from \"@material-ui/core/Fade\";\r\n\r\nimport { useLazyAxios } from \"use-axios-client\";\r\nimport { isEmpty } from \"lodash\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport useDispatchAction from \"hooks/useDispatchAction\";\r\nimport Paths from \"Routing/Paths\";\r\n\r\nimport { Minifig, Results, SelectedMinifig } from \"types/types\";\r\nimport { Image } from \"Components\";\r\nimport { BasicButton } from \"Components\";\r\n\r\ninterface Props {\r\n    minifigs: Minifig[];\r\n}\r\nconst Select = (props: Props) => {\r\n    const { minifigs } = props;\r\n    const history = useHistory();\r\n    const [selected, setSelected] = useState<SelectedMinifig>({});\r\n\r\n    const URL = \"https://rebrickable.com/api/v3/lego/minifigs/\" + (selected as Minifig).set_num + \"/parts/?key=\" + \"8e442d7f1155bab4074dbff1e76bc680\";\r\n\r\n    const [getData, { data, error, loading: isLoading }] = useLazyAxios({\r\n        url: URL,\r\n    });\r\n    const { setSelectedMinifig, setParts } = useDispatchAction();\r\n    useEffect(() => {\r\n        if (data && (data as Results).results) {\r\n            setParts((data as Results).results);\r\n        }\r\n        error && setParts(error);\r\n        data && history.push(Paths.order);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [data, error]);\r\n\r\n    const selectMinifig = useCallback((minifig: SelectedMinifig) => {\r\n        setSelected(minifig);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"select\">\r\n            <div className=\"select__content-box\">\r\n                <h2>Choose your minifig</h2>\r\n                <Fade in={true} timeout={1500}>\r\n                    <div className=\"images\">\r\n                        {minifigs &&\r\n                            minifigs.map(fig => {\r\n                                return fig && <Image key={uuid()} minifig={fig} clickHandler={selectMinifig} isSelected={isEqual(fig, selected)} />;\r\n                            })}\r\n                    </div>\r\n                </Fade>\r\n                <BasicButton\r\n                    disabled={isEmpty(selected)}\r\n                    className=\"button uppercased\"\r\n                    onClick={e => {\r\n                        e.stopPropagation();\r\n                        setSelectedMinifig(selected);\r\n                        getData();\r\n                    }}\r\n                >\r\n                    Proceed to shipment\r\n                </BasicButton>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Select;\r\n","import { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { RootStateType } from \"types\";\r\nimport Select from \"./Select\";\r\n\r\nconst mapStateToProps = (state: RootStateType) => ({\r\n    minifigs: state.fetch.minifigs,\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, {})(Select));\r\n"],"names":["props","minifigs","history","useHistory","useState","selected","setSelected","URL","set_num","useLazyAxios","url","getData","data","error","loading","useDispatchAction","setSelectedMinifig","setParts","useEffect","results","push","Paths","selectMinifig","useCallback","minifig","className","Fade","in","timeout","map","fig","clickHandler","isSelected","isEqual","uuid","disabled","isEmpty","onClick","e","stopPropagation","withRouter","connect","state","fetch","Select"],"sourceRoot":""}