"use strict";(self.webpackChunkminifigs=self.webpackChunkminifigs||[]).push([[489],{5489:function(e,s,r){r.r(s),r.d(s,{default:function(){return B}});var t=r(8687),a=r(3329),i=function(e){var s=e.message;return(0,a.jsx)("article",{className:"error",children:(0,a.jsxs)("div",{className:"message",children:[(0,a.jsx)("p",{className:"message__general-message",children:"Hi, \ud83d\ude00"}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"message__error-message",children:s||""})]})})},n=r(2791),d=n.memo((function(){return(0,a.jsx)("div",{children:"It seems that Dementors sucked all the parts \ud83d\ude29"})})),c=r(1413),l=r(5290),m=r(7689),u="minifigs-ordr-form-id",p=r(1536),x=r(4383),o="Minimal length not reached, should be at least ",h="Max length exceeded ",f="This field is required ",j="Text does not meet country pattern ",y={minLength:2,maxLength:45,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,required:!0},g={required:!0,minLength:2,maxLength:100,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/},N={required:!0,pattern:/(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}/},v={required:!0,pattern:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/},b={required:!1,pattern:/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/},q={required:!0,pattern:/[A-Za-z0-9'\.\-\s\,]/},_={required:!0,minLength:2,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/},Z={required:!0,minLength:2,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/},z={pattern:/^[0-9]{2}-[0-9]{3}/,required:!0},L={firstName:(0,c.Z)({},y),surName:(0,c.Z)({},g),phone:(0,c.Z)({},N),email:(0,c.Z)({},v),dob:(0,c.Z)({},b),address:(0,c.Z)({},q),city:(0,c.Z)({},_),state:(0,c.Z)({},Z),zip:(0,c.Z)({},z)},w=r(5861),M=r(4687),E=r.n(M),k=r(7721),S=(0,t.$j)(null,(function(e){return{sendOrder:function(s,r){return e(function(e,s){return function(){var r=(0,w.Z)(E().mark((function r(t,a){return E().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(s),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(s){if(s)try{t((0,k.showMessage)({isMessage:!0,anyMessage:"Your order has been successfully proceeded"})),setTimeout(e.intro,5e3),setTimeout(k.hideMessage,5e3)}catch(r){t((0,k.showError)({isError:!0,errorMessage:"Error occured during order placing"}))}else t((0,k.showError)({isError:!0,errorMessage:"Empty data received from receiver's endpoint"}))})).catch((function(e){var s={isError:!0,errorMessage:e.message};t((0,k.showError)(s))}));case 1:case"end":return r.stop()}}),r)})));return function(e,s){return r.apply(this,arguments)}}()}(s,r))}}}))((function(e){var s=e.sendOrder,r=(0,t.v9)(x.eW),i=(0,m.s0)(),d=(0,n.useRef)(null),b=(0,n.useMemo)((0,p.bI)(i),[]),w=(0,l.cI)(),M=w.register,E=w.handleSubmit,k=w.formState.errors;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"details",id:u,onSubmit:E((function(){var e=new FormData(d.current);e.append("setNumber",r),e&&s(b,e)})),ref:d,children:[(0,a.jsx)("h2",{className:"fromLeft",children:"Shipping details"}),(0,a.jsx)("div",{className:"foo",id:"foo"}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",children:"Name"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("firstName",L.firstName))),k.firstName&&"required"===k.firstName.type&&(0,a.jsx)("span",{children:f}),k.firstName&&"minLength"===k.firstName.type&&(0,a.jsxs)("span",{children:[o,y.minLength]}),k.firstName&&"maxLength"===k.firstName.type&&(0,a.jsxs)("span",{children:[h,y.maxLength]}),k.firstName&&"pattern"===k.firstName.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",children:"Surname"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("surName",L.surName))),k.surName&&"required"===k.surName.type&&(0,a.jsxs)("span",{children:[f,g.required]}),k.surName&&"minLength"===k.surName.type&&(0,a.jsxs)("span",{children:[o,g.minLength]}),k.surName&&"maxLength"===k.surName.type&&(0,a.jsxs)("span",{children:[h,g.maxLength]}),k.surName&&"pattern"===k.surName.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",children:"Phone Number"}),(0,a.jsx)("input",(0,c.Z)({placeholder:"Mobile or regular Polish phone with country code like 048 669086566",type:"text"},M("phone",L.phone))),k.phone&&"required"===k.phone.type&&(0,a.jsxs)("span",{children:[f,N.required]}),k.phone&&"pattern"===k.phone.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",children:"Email"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("email",L.email))),k.email&&"required"===k.email.type&&(0,a.jsxs)("span",{children:[f,v.required]}),k.email&&"pattern"===k.email.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{children:"Date of Birth"}),(0,a.jsx)("input",(0,c.Z)({placeholder:"Date in yyyy-mm-dd or yyyy-m-dd format ",type:"text"},M("dob",L.dob))),k.dob&&"pattern"===k.dob.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",children:"Address"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("address",L.address))),k.address&&"required"===k.address.type&&(0,a.jsxs)("span",{children:[f,q.required]}),k.address&&"pattern"===k.address.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",children:"City"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("city",L.city))),k.city&&"required"===k.city.type&&(0,a.jsxs)("span",{children:[f,Z.required]}),k.city&&"pattern"===k.city.type&&(0,a.jsx)("span",{children:j}),k.city&&"minLength"===k.city.type&&(0,a.jsxs)("span",{children:[o,_.minLength]})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",children:"State"}),(0,a.jsx)("input",(0,c.Z)({type:"text"},M("state",L.state))),k.state&&"required"===k.state.type&&(0,a.jsxs)("span",{children:[f,Z.required]}),k.state&&"pattern"===k.state.type&&(0,a.jsx)("span",{children:j}),k.state&&"minLength"===k.state.type&&(0,a.jsxs)("span",{children:[o,Z.minLength]})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",children:"Zip Code"}),(0,a.jsx)("input",(0,c.Z)({type:"text",placeholder:" zip code in format xx-xxx"},M("zip",L.zip))),k.zip&&"required"===k.zip.type&&(0,a.jsxs)("span",{children:[f,z.required]}),k.zip&&"pattern"===k.zip.type&&(0,a.jsx)("span",{children:j})]})]})})})),$=function(e){var s=e.data,r=e.loadHandler;return(0,a.jsxs)("div",{className:"part",children:[(0,a.jsx)("img",{className:"part__image",src:s.part.part_img_url,alt:"Picture of "+s.part.name,onLoad:r,onError:r}),(0,a.jsxs)("div",{className:"part__text-items",children:[(0,a.jsx)("div",{className:"part__item part__name",children:s.part.name}),(0,a.jsx)("a",{className:"part__item part__code",href:s.part.part_img_url,target:"blank",children:s.part.part_num})]})]})},T=r(6666),A=r.n(T),C=r(763),D=r(1092),F=r(9874),I=function(){var e=(0,t.v9)(x.eW),s=(0,F.B)(e,{skip:(0,p.s9)()}),r=s.data,i=s.isFetching,c=s.isError,l=(0,n.useRef)(null),m=r?(0,C.after)(r.length,(function(){var e;null===(e=l.current)||void 0===e||e.classList.add("active")})):function(){};return i?(0,a.jsx)(D.TF,{}):c?(0,a.jsx)(d,{}):r&&!(0,C.isEmpty)(r)?(0,a.jsx)("div",{className:"parts",ref:l,children:r.map((function(e){return(0,a.jsx)($,{data:e,loadHandler:m},A()())}))}):(0,a.jsx)(d,{})},O=function(){var e=(0,t.v9)(x.jX),s=e.name,r=e.num_parts,i=e.set_img_url,n="There are ".concat(r," parts in this minifig:");return(0,a.jsxs)("div",{className:"summary__main items",children:[(0,a.jsx)("h2",{className:"black fromLeft",children:"Summary"}),(0,a.jsxs)("div",{className:"image image--no-padding",children:[s&&i&&(0,a.jsx)(D.t,{name:s,url:i}),s&&(0,a.jsx)(D.VG,{text:s})]}),r&&(0,a.jsx)("p",{children:n})]})},P=function(){return(0,a.jsxs)("div",{className:"summary",children:[(0,a.jsx)(O,{}),(0,a.jsx)(I,{}),(0,a.jsx)(D.kD,{className:"button uppercased",type:"submit",form:u,children:"Submit"})]})},H=function(e){var s=e.isMessage,r=e.message;return(0,p.s9)()?(0,a.jsx)(i,{message:"No Internet Connection, try again some later"}):(0,a.jsxs)("div",{className:"order",children:[(0,a.jsx)(S,{}),(0,a.jsx)(P,{}),s&&(0,a.jsx)(i,{message:r})]})},B=(0,t.$j)((function(e){return{message:e.fetch.anyMessage,isMessage:e.fetch.isMessage}}),{})(H)}}]);
//# sourceMappingURL=489.fdc6e84b.chunk.js.map