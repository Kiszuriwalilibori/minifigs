{"version":3,"file":"static/js/652.e265a587.chunk.js","mappings":"8QA+BA,EApBc,SAACA,GACX,IAAQC,EAA2DD,EAA3DC,QAASC,EAAkDF,EAAlDE,aAAa,EAAqCF,EAApCG,WAAAA,OAAU,OAAQ,EAAEC,EAAgBJ,EAAhBI,YAEnD,OACI,UAAC,KAAW,CACRC,UAAWF,EAAa,iBAAmB,QAC3CG,QAAS,SAAAC,GACLA,EAAEC,kBACFN,EAAaD,EACjB,EAAE,WAEF,SAAC,IAAO,CAACQ,IAAKR,EAAQS,YAAaC,KAAMV,EAAQU,KAAMP,YAAaA,KACpE,SAAC,KAAI,CAACQ,KAAMX,EAAQU,QACpB,cAAGN,UAAU,OAAOQ,OAAO,QAAQC,KAAMb,EAAQc,QAAQ,4BAKrE,E,UCkCA,EA/Ce,SAACf,GACZ,IAAQgB,EAAahB,EAAbgB,SACFC,GAAUC,EAAAA,EAAAA,MAChB,GAAgCC,EAAAA,EAAAA,UAA0B,CAAC,GAAE,eAAtDC,EAAQ,KAAEC,EAAW,KACtBC,GAAYC,EAAAA,EAAAA,QAAuB,MAEjCC,GAAyBC,EAAAA,EAAAA,KAAzBD,qBACFE,GAAgBC,EAAAA,EAAAA,cAAY,SAAC1B,GAC/BoB,EAAYpB,EAEhB,GAAG,IAGG2B,GAASD,EAAAA,EAAAA,cACXE,EAAAA,EAAAA,OAAMb,EAASc,QAAQ,WAAO,IAAD,EACR,QAAjB,EAAAR,EAAUS,eAAO,OAAjB,EAAmBC,UAAUC,IAAI,SACrC,IACA,IAGJ,OACI,gBAAK5B,UAAU,SAAQ,UACnB,iBAAKA,UAAU,sBAAqB,WAChC,iDACA,gBAAKA,UAAU,SAAS6B,IAAKZ,EAAU,SAClCN,GACGA,EAASmB,KAAI,SAAAC,GACT,IAAMC,EAAcC,IAAQF,EAAKhB,GACjC,OAAOgB,IAAO,SAAC,EAAK,CAAcnC,QAASmC,EAAKlC,aAAcwB,EAAevB,WAAYkC,EAAajC,YAAawB,GAAzFW,MAC9B,OAER,SAAC,KAAW,CACRC,UAAUC,EAAAA,EAAAA,SAAQrB,GAClBf,UAAU,oBACVC,QAAS,SAAAC,GACLA,EAAEC,kBACFgB,EAAsBJ,EAAqBsB,SAC3CzB,EAAQ0B,EAAAA,EAAAA,MACZ,EAAE,qCAOtB,ECpDA,GAAeC,EAAAA,EAAAA,KAJS,SAACC,GAAoB,MAAM,CAC/C7B,SAAU6B,EAAMC,KAAK9B,SACxB,GAEuC,CAAC,EAAzC,CAA4C+B,E","sources":["pages/Select_Page/components/Image.tsx","pages/Select_Page/Select.tsx","pages/Select_Page/index.ts"],"sourcesContent":["import { Minifig, SelectedMinifig } from \"types\";\r\nimport { BasicButton, Name, Picture } from \"components\";\r\nimport { ReactEventHandler } from \"react\";\r\n\r\ninterface Props {\r\n    minifig: Minifig;\r\n    clickHandler: (minifig: SelectedMinifig) => void;\r\n    isSelected?: boolean;\r\n    loadHandler: ReactEventHandler<HTMLImageElement>;\r\n}\r\n\r\nconst Image = (props: Props) => {\r\n    const { minifig, clickHandler, isSelected = false, loadHandler } = props;\r\n\r\n    return (\r\n        <BasicButton\r\n            className={isSelected ? \"image selected\" : \"image\"}\r\n            onClick={e => {\r\n                e.stopPropagation();\r\n                clickHandler(minifig);\r\n            }}\r\n        >\r\n            <Picture url={minifig.set_img_url} name={minifig.name} loadHandler={loadHandler} />\r\n            <Name text={minifig.name} />\r\n            <a className=\"link\" target=\"blank\" href={minifig.set_url}>\r\n                Show Details\r\n            </a>\r\n        </BasicButton>\r\n    );\r\n};\r\n\r\nexport default Image;\r\n","import uuid from \"react-uuid\";\r\nimport isEqual from \"lodash/isEqual\";\r\n\r\nimport { after, isEmpty } from \"lodash\";\r\nimport { useCallback, useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nimport { useDispatchAction } from \"hooks\";\r\nimport { Minifig, SelectedMinifig } from \"types\";\r\nimport { Image } from \"./components\";\r\nimport { BasicButton } from \"components\";\r\nimport { Paths } from \"routes/paths\";\r\n\r\ninterface Props {\r\n    minifigs: Minifig[];\r\n}\r\nconst Select = (props: Props) => {\r\n    const { minifigs } = props;\r\n    const history = useNavigate();\r\n    const [selected, setSelected] = useState<SelectedMinifig>({});\r\n    const refImages = useRef<HTMLDivElement>(null);\r\n\r\n    const { setSelectedMinifigId } = useDispatchAction();\r\n    const selectMinifig = useCallback((minifig: SelectedMinifig) => {\r\n        setSelected(minifig);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    const onLoad = useCallback(\r\n        after(minifigs.length, () => {\r\n            refImages.current?.classList.add(\"active\");\r\n        }),\r\n        []\r\n    );\r\n\r\n    return (\r\n        <div className=\"select\">\r\n            <div className=\"select__content-box\">\r\n                <h2>Choose your minifig</h2>\r\n                <div className=\"images\" ref={refImages}>\r\n                    {minifigs &&\r\n                        minifigs.map(fig => {\r\n                            const wasSelected = isEqual(fig, selected);\r\n                            return fig && <Image key={uuid()} minifig={fig} clickHandler={selectMinifig} isSelected={wasSelected} loadHandler={onLoad} />;\r\n                        })}\r\n                </div>\r\n                <BasicButton\r\n                    disabled={isEmpty(selected)}\r\n                    className=\"button uppercased\"\r\n                    onClick={e => {\r\n                        e.stopPropagation();\r\n                        setSelectedMinifigId((selected as Minifig).set_num);\r\n                        history(Paths.order);\r\n                    }}\r\n                >\r\n                    Proceed to shipment\r\n                </BasicButton>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Select;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { RootStateType } from \"types\";\r\nimport Select from \"./Select\";\r\n\r\nconst mapStateToProps = (state: RootStateType) => ({\r\n    minifigs: state.draw.minifigs,\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(Select);\r\n"],"names":["props","minifig","clickHandler","isSelected","loadHandler","className","onClick","e","stopPropagation","url","set_img_url","name","text","target","href","set_url","minifigs","history","useNavigate","useState","selected","setSelected","refImages","useRef","setSelectedMinifigId","useDispatchAction","selectMinifig","useCallback","onLoad","after","length","current","classList","add","ref","map","fig","wasSelected","isEqual","uuid","disabled","isEmpty","set_num","Paths","connect","state","draw","Select"],"sourceRoot":""}