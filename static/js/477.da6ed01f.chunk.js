"use strict";(self.webpackChunkminifigs=self.webpackChunkminifigs||[]).push([[477],{4477:function(e,r,s){s.r(r),s.d(r,{default:function(){return W}});var t=s(8687),a=s(3329),i=function(e){var r=e.message;return(0,a.jsx)("article",{className:"error",children:(0,a.jsxs)("div",{className:"message",children:[(0,a.jsx)("p",{className:"message__general-message",children:"Hi, \ud83d\ude00"}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"message__error-message",children:r||""})]})})},n=s(2791),d=n.memo((function(){return(0,a.jsx)("div",{children:"It seems that Dementors sucked all the parts \ud83d\ude29"})})),l=s(1413),c=s(5290),m=s(7689),o=s(1436),p="minifigs-ordr-form-id",u=s(4788),h="Minimal length not reached, should be at least ",x="Max length exceeded ",f="This field is required ",j="Text does not meet country pattern ",y={minLength:2,maxLength:45,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,required:!0},N={required:!0,minLength:2,maxLength:100,pattern:/^([ \u00c0-\u01ffa-zA-Z'-])+$/},g={required:!0,pattern:/(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}/},v={required:!0,pattern:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/},b={required:!1,pattern:/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/},q={required:!0,pattern:/[A-Za-z0-9'\.\-\s\,]/},Z={required:!0,minLength:2,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/},_={required:!0,minLength:2,pattern:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/},z={pattern:/^[0-9]{2}-[0-9]{3}/,required:!0},L={firstName:(0,l.Z)({},y),surName:(0,l.Z)({},N),phone:(0,l.Z)({},g),email:(0,l.Z)({},v),dob:(0,l.Z)({},b),address:(0,l.Z)({},q),city:(0,l.Z)({},Z),state:(0,l.Z)({},_),zip:(0,l.Z)({},z)},w=s(5861),E=s(4687),F=s.n(E),k=s(3929),S=s(7721),C=s(5796),M=(0,t.$j)(null,(function(e){return{sendOrder:function(r,s,t){return e(function(e,r,s){var t={headers:{"Content-type":"application/json; charset=UTF-8"}};return function(){var a=(0,w.Z)(F().mark((function a(i){return F().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:k.Z.post("https://jsonplaceholder.typicode.com/posts",s,t).then((function(s){if(s)try{r.success("Your order has been successfully proceeded"),setTimeout((function(){return e(C.n.intro)}),5e3)}catch(t){i((0,S.showError)({isError:!0,errorMessage:"Error occured during order placing"}))}else i((0,S.showError)({isError:!0,errorMessage:"Empty data received from receiver's endpoint"}))})).catch((function(e){var r;r=k.Z.isAxiosError(e)?{isError:!0,errorMessage:"The following error occured when placing order: "+e.message}:{isError:!0,errorMessage:"Unknown error occured when placing order"},i((0,S.showError)(r))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,s,t))}}}))((function(e){var r=e.sendOrder,s=(0,t.v9)(o.eW),i=(0,n.useRef)(null),d=(0,m.s0)(),b=(0,u.UD)(),w=(0,c.cI)(),E=w.register,F=w.handleSubmit,k=w.formState.errors;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"details",id:p,onSubmit:F((function(){var e=new FormData(i.current);e.append("setNumber",s),e&&r(d,b,e)})),ref:i,children:[(0,a.jsx)("h1",{className:"fromLeft",children:"Shipping details"}),(0,a.jsx)("div",{className:"foo",id:"foo"}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"firstName",children:"Name"}),(0,a.jsx)("input",(0,l.Z)((0,l.Z)({type:"text"},E("firstName",L.firstName)),{},{id:"firstName"})),k.firstName&&"required"===k.firstName.type&&(0,a.jsx)("span",{children:f}),k.firstName&&"minLength"===k.firstName.type&&(0,a.jsxs)("span",{children:[h,y.minLength]}),k.firstName&&"maxLength"===k.firstName.type&&(0,a.jsxs)("span",{children:[x,y.maxLength]}),k.firstName&&"pattern"===k.firstName.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Surname",children:"Surname"}),(0,a.jsx)("input",(0,l.Z)({id:"Surname",type:"text"},E("surName",L.surName))),k.surName&&"required"===k.surName.type&&(0,a.jsxs)("span",{children:[f,N.required]}),k.surName&&"minLength"===k.surName.type&&(0,a.jsxs)("span",{children:[h,N.minLength]}),k.surName&&"maxLength"===k.surName.type&&(0,a.jsxs)("span",{children:[x,N.maxLength]}),k.surName&&"pattern"===k.surName.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Phone",children:"Phone Number"}),(0,a.jsx)("input",(0,l.Z)({id:"Phone",placeholder:"Mobile or regular Polish phone with country code like 048 669086566",type:"text"},E("phone",L.phone))),k.phone&&"required"===k.phone.type&&(0,a.jsxs)("span",{children:[f,g.required]}),k.phone&&"pattern"===k.phone.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",(0,l.Z)({id:"email",type:"text"},E("email",L.email))),k.email&&"required"===k.email.type&&(0,a.jsxs)("span",{children:[f,v.required]}),k.email&&"pattern"===k.email.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{htmlFor:"DoB",children:"Date of Birth"}),(0,a.jsx)("input",(0,l.Z)({id:"DoB",placeholder:"Date in yyyy-mm-dd or yyyy-m-dd format ",type:"text"},E("dob",L.dob))),k.dob&&"pattern"===k.dob.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"address",children:"Address"}),(0,a.jsx)("input",(0,l.Z)({type:"text",id:"address"},E("address",L.address))),k.address&&"required"===k.address.type&&(0,a.jsxs)("span",{children:[f,q.required]}),k.address&&"pattern"===k.address.type&&(0,a.jsx)("span",{children:j})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"city",children:"City"}),(0,a.jsx)("input",(0,l.Z)({type:"text",id:"city"},E("city",L.city))),k.city&&"required"===k.city.type&&(0,a.jsxs)("span",{children:[f,_.required]}),k.city&&"pattern"===k.city.type&&(0,a.jsx)("span",{children:j}),k.city&&"minLength"===k.city.type&&(0,a.jsxs)("span",{children:[h,Z.minLength]})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"state",children:"State"}),(0,a.jsx)("input",(0,l.Z)({type:"text",id:"state"},E("state",L.state))),k.state&&"required"===k.state.type&&(0,a.jsxs)("span",{children:[f,_.required]}),k.state&&"pattern"===k.state.type&&(0,a.jsx)("span",{children:j}),k.state&&"minLength"===k.state.type&&(0,a.jsxs)("span",{children:[h,_.minLength]})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"ZipCode",children:"Zip Code"}),(0,a.jsx)("input",(0,l.Z)({id:"ZipCode",type:"text",placeholder:" zip code in format xx-xxx"},E("zip",L.zip))),k.zip&&"required"===k.zip.type&&(0,a.jsxs)("span",{children:[f,z.required]}),k.zip&&"pattern"===k.zip.type&&(0,a.jsx)("span",{children:j})]})]})})})),$=function(e){var r=e.data,s=e.loadHandler;return(0,a.jsxs)("div",{className:"part",children:[(0,a.jsx)("img",{className:"part__image",src:r.part.part_img_url,alt:r.part.name,onLoad:s,onError:s}),(0,a.jsxs)("div",{className:"part__text-items",children:[(0,a.jsx)("div",{className:"part__item part__name",children:r.part.name}),(0,a.jsx)("a",{className:"part__item part__code",href:r.part.part_img_url,target:"blank",children:r.part.part_num})]})]})},D=s(6666),A=s.n(D),T=s(763),B=s(1092),P=s(632),U=s(9874),H=function(){var e=(0,t.v9)(o.eW),r=(0,U.B)(e,{skip:(0,P.s9)()}),s=r.data,i=r.isFetching,l=r.isError,c=(0,n.useRef)(null),m=s?(0,T.after)(s.length,(function(){var e;null===(e=c.current)||void 0===e||e.classList.add("active")})):function(){};return i?(0,a.jsx)(B.TF,{}):l?(0,a.jsx)(d,{}):s&&!(0,T.isEmpty)(s)?(0,a.jsx)("div",{className:"parts",ref:c,children:s.map((function(e){return(0,a.jsx)($,{data:e,loadHandler:m},A()())}))}):(0,a.jsx)(d,{})},I=function(){var e=(0,t.v9)(o.jX),r=e.name,s=e.num_parts,i=e.set_img_url,n="There are ".concat(s," parts in this minifig:");return(0,a.jsxs)("div",{className:"summary__main items",children:[(0,a.jsx)("h2",{className:"black fromLeft",children:"Summary"}),(0,a.jsxs)("div",{className:"minifigCard minifigCard--no-padding",children:[r&&i&&(0,a.jsx)(B.t,{name:r,imageURL:i}),r&&(0,a.jsx)(B.VG,{name:r})]}),s&&(0,a.jsx)("p",{children:n})]})},R=function(){return(0,a.jsxs)("div",{className:"summary",children:[(0,a.jsx)(I,{}),(0,a.jsx)(H,{}),(0,a.jsx)(B.kD,{className:"button uppercased",type:"submit",form:p,children:"Submit"})]})},O=function(){return(0,P.s9)()?(0,a.jsx)(i,{message:"No Internet connection, try again some later"}):(0,a.jsxs)("main",{className:"order",children:[(0,a.jsx)(M,{}),(0,a.jsx)(R,{})]})},W=(0,t.$j)((function(e){return{message:e.fetch.message,isMessage:e.fetch.isMessage}}),{})(O)}}]);
//# sourceMappingURL=477.da6ed01f.chunk.js.map