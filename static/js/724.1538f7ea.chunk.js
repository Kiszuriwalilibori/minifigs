"use strict";(self.webpackChunkminifigs=self.webpackChunkminifigs||[]).push([[724],{5724:function(e,r,a){a.r(r),a.d(r,{default:function(){return U}});var s=a(8687),t=a(184),n=function(e){var r=e.message;return(0,t.jsx)("article",{className:"error",children:(0,t.jsxs)("div",{className:"message",children:[(0,t.jsx)("p",{className:"message__general-message",children:"Hi, \ud83d\ude00"}),(0,t.jsx)("hr",{}),(0,t.jsx)("div",{className:"message__error-message",children:r||""})]})})},i=a(2791),c=i.memo((function(){return(0,t.jsx)("div",{children:"It seems that Dementors sucked all the parts \ud83d\ude29"})})),o=a(7689),m=a(5290),u=a(1413),l={phone:"Mobile or regular Polish phone with country code like 048 669086566",dob:"Date in yyyy-mm-dd or yyyy-m-dd format",zip:"zip code in format xx-xxx"},d={firstName:"Name",surName:"Surname",address:"Address",zip:"Zip Code",dob:"Date of Birth",phone:"Phone Number",email:"E-mail",city:"City",state:"State"},h="String does not satisfy the pattern: ",x="This field is required",f={address:/[A-Za-z0-9'\.\-\s\,]/,city:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,dob:/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/,email:/(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])/,firstName:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,state:/^([ \u00c0-\u01ffa-zA-Z'\-])+$/,surName:/^([ \u00c0-\u01ffa-zA-Z'-])+$/,phone:/(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-8]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}/,zip:/^[0-9]{2}-[0-9]{3}/},g={firstName:{minLength:{value:2,message:"This input requests not less then ".concat(2," chars")},maxLength:{value:45,message:"This input exceed length of ".concat(45," chars")},pattern:{value:f.firstName,message:"".concat(h).concat(f.firstName)},required:{value:!0,message:x}},surName:{required:{value:!0,message:x},minLength:{value:2,message:"This input requests not less then ".concat(2," chars")},maxLength:{value:45,message:"This input exceed length of ".concat(45," chars")},pattern:{value:f.surName,message:"".concat(h).concat(f.surName)}},phone:{required:{value:!0,message:x},pattern:{value:f.phone,message:"".concat(h).concat(f.surName)}},email:{required:{value:!0,message:x},pattern:{value:f.email,message:"".concat(h).concat(f.email)}},dob:{required:{value:!1,message:x},pattern:{value:f.dob,message:"".concat(h).concat(f.dob)}},address:{required:{value:!0,message:x},pattern:{value:f.address,message:"".concat(h).concat(f.address)}},city:{required:{value:!0,message:x},minLength:{value:2,message:"This input requests not less then ".concat(2," chars")},pattern:{value:f.city,message:"".concat(h).concat(f.city)}},state:{required:{value:!0,message:x},minLength:{value:2,message:"This input requests not less then ".concat(2," chars")},pattern:{value:f.state,message:"".concat(h).concat(f.state)}},zip:{pattern:{value:f.zip,message:"".concat(h).concat(f.zip)},required:{value:!0,message:x}}},p=a(5970),v=function(e){var r,a=e.errors,s=e.name,n=e.register,i=e.variant,c=e.isRequired;switch(i){case"extendable":r="form-item extendable";break;case"regular":default:r="form-item full-width";break;case"short":r="form-item"}return(0,t.jsxs)("div",{className:r,children:[(0,t.jsx)("label",{className:c?"form-item__label required":"form-item__label",htmlFor:s,children:d[s]}),(0,t.jsx)("input",(0,u.Z)({id:s,type:"text",placeholder:l[s]||""},n(s,g[s]))),(0,t.jsx)(p.B,{className:"error-message",errors:a,name:s,as:"span"})]})},j=a(1436),N="minifigs-order-form-id",b=a(3552),_=a(5861),y=a(4687),q=a.n(y),z=a(3929),w=a(7721),k=a(5796),E=(0,s.$j)(null,(function(e){return{sendOrder:function(r,a,s){return e(function(e,r,a){var s={headers:{"Content-type":"application/json; charset=UTF-8"}};return function(){var t=(0,_.Z)(q().mark((function t(n){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:z.Z.post("https://jsonplaceholder.typicode.com/posts",a,s).then((function(a){if(a)try{r.success("Your order has been successfully proceeded"),setTimeout((function(){return e(k.n.intro)}),5e3)}catch(s){n((0,w.showError)({isError:!0,errorMessage:"Error occured during order placing"}))}else n((0,w.showError)({isError:!0,errorMessage:"Empty data received from receiver's endpoint"}))})).catch((function(e){var r;r=z.Z.isAxiosError(e)?{isError:!0,errorMessage:"The following error occured when placing order: "+e.message}:{isError:!0,errorMessage:"Unknown error occured when placing order"},n((0,w.showError)(r))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(r,a,s))}}}))((function(e){var r=e.sendOrder,a=(0,s.v9)(j.eW),n=(0,i.useRef)(null),c=(0,o.s0)(),u=(0,b.UD)(),l=(0,m.cI)(),d=l.register,h=l.handleSubmit,x=l.formState.errors;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("form",{className:"details",id:N,onSubmit:h((function(){var e=new FormData(n.current);a&&(e.append("setNumber",a),e&&r(c,u,e))})),ref:n,children:[(0,t.jsx)("h1",{className:"fromLeft",children:"Shipping details"}),(0,t.jsx)("div",{className:"foo",id:"foo"}),(0,t.jsx)(v,{errors:x,variant:"extendable",register:d,name:"firstName",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"extendable",register:d,name:"surName",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"regular",register:d,name:"phone",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"regular",register:d,name:"email",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"regular",register:d,name:"dob",isRequired:!1}),(0,t.jsx)(v,{errors:x,variant:"regular",register:d,name:"address",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"regular",register:d,name:"city",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"short",register:d,name:"state",isRequired:!0}),(0,t.jsx)(v,{errors:x,variant:"short",register:d,name:"zip",isRequired:!0})]})})})),R=function(e){var r=e.data,a=e.loadHandler;return(0,t.jsxs)("div",{className:"part",children:[(0,t.jsx)("img",{className:"part__image",src:r.part.part_img_url,alt:r.part.name,onLoad:a,onError:a}),(0,t.jsxs)("div",{className:"part__text-items",children:[(0,t.jsx)("div",{className:"part__item part__name",children:r.part.name}),(0,t.jsx)("a",{className:"part__item part__code",href:r.part.part_img_url,target:"blank",children:r.part.part_num})]})]})},T=a(6666),Z=a.n(T),L=a(763),S=a(7480),$=a(8592),A=a(9874),C=function(){var e=(0,s.v9)(j.eW),r=(0,A.B)(e,{skip:(0,$.Z)()}),a=r.data,n=r.isFetching,o=r.isError,m=(0,i.useRef)(null),u=a?(0,L.after)(a.length,(function(){var e;null===(e=m.current)||void 0===e||e.classList.add("active")})):function(){};return n?(0,t.jsx)(S.TF,{}):o?(0,t.jsx)(c,{}):a&&!(0,L.isEmpty)(a)?(0,t.jsx)("div",{className:"parts",ref:m,children:a.map((function(e){return(0,t.jsx)(R,{data:e,loadHandler:u},Z()())}))}):(0,t.jsx)(c,{})},M=function(){var e=(0,s.v9)(j.jX);if(!e)return null;var r=e.name,a=e.num_parts,n=e.set_img_url,i="There are ".concat(a," parts in this minifig:");return(0,t.jsxs)("div",{className:"summary__main items",children:[(0,t.jsx)("h2",{className:"black fromLeft",children:"Summary"}),(0,t.jsxs)("div",{className:"minifigCard minifigCard--no-padding",children:[r&&n&&(0,t.jsx)(S.t,{name:r,imageURL:n}),r&&(0,t.jsx)(S.VG,{name:r})]}),a&&(0,t.jsx)("p",{children:i})]})},D=function(){return(0,t.jsxs)("div",{className:"summary",children:[(0,t.jsx)(M,{}),(0,t.jsx)(C,{}),(0,t.jsx)(S.kD,{className:"button uppercased",type:"submit",form:N,children:"Submit"})]})},F=function(){return(0,$.Z)()?(0,t.jsx)(n,{message:"No Internet connection, try again some later"}):(0,t.jsxs)("main",{className:"order",children:[(0,t.jsx)(E,{}),(0,t.jsx)(D,{})]})},U=(0,s.$j)((function(e){return{message:e.fetch.message,isMessage:e.fetch.isMessage}}),{})(F)}}]);
//# sourceMappingURL=724.1538f7ea.chunk.js.map