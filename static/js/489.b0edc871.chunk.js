"use strict";(self.webpackChunkminifigs=self.webpackChunkminifigs||[]).push([[489],{5489:function(e,r,s){s.r(r),s.d(r,{default:function(){return q}});var i=s(8687),a=s(184),n=function(e){var r=e.message;return(0,a.jsx)("article",{className:"error",children:(0,a.jsxs)("div",{className:"message",children:[(0,a.jsx)("p",{className:"message__general-message",children:"Hi, \ud83d\ude00"}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"message__error-message",children:r||""})]})})},l=s(2791),t=l.memo((function(){return(0,a.jsx)("div",{children:"It seems that Dementors sucked all the parts \ud83d\ude29"})})),o=s(1413),d=s(5290),c=s(7689),m=s(1436),u="minifigs-ordr-form-id",h=s(5367),p=s(3714),x=s(5861),v=s(4687),f=s.n(v),j=s(3929),g=s(7721),N=s(5796),y=(0,i.$j)(null,(function(e){return{sendOrder:function(r,s,i){return e(function(e,r,s){var i={headers:{"Content-type":"application/json; charset=UTF-8"}};return function(){var a=(0,x.Z)(f().mark((function a(n){return f().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:j.Z.post("https://jsonplaceholder.typicode.com/posts",s,i).then((function(s){if(s)try{r.success("Your order has been successfully proceeded"),setTimeout((function(){return e(N.n.intro)}),5e3)}catch(i){n((0,g.showError)({isError:!0,errorMessage:"Error occured during order placing"}))}else n((0,g.showError)({isError:!0,errorMessage:"Empty data received from receiver's endpoint"}))})).catch((function(e){var r;r=j.Z.isAxiosError(e)?{isError:!0,errorMessage:"The following error occured when placing order: "+e.message}:{isError:!0,errorMessage:"Unknown error occured when placing order"},n((0,g.showError)(r))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(r,s,i))}}}))((function(e){var r,s,n,t,x,v,f,j,g,N,y,b,_,E,w,Z,M=e.sendOrder,z=(0,i.v9)(m.eW),F=(0,l.useRef)(null),k=(0,c.s0)(),S=(0,h.UD)(),C=(0,d.cI)(),q=C.register,D=C.handleSubmit,L=C.formState.errors,T=(0,l.useMemo)((function(){return L}),[L]),B=(0,h.jk)(T,p.ut);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("form",{className:"details",id:u,onSubmit:D((function(){var e=new FormData(F.current);e.append("setNumber",z),e&&M(k,S,e)})),ref:F,children:[(0,a.jsx)("h1",{className:"fromLeft",children:"Shipping details"}),(0,a.jsx)("div",{className:"foo",id:"foo"}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"firstName",children:"Name"}),(0,a.jsx)("input",(0,o.Z)((0,o.Z)({type:"text"},q("firstName",p.z2.firstName)),{},{id:"firstName"})),B&&(null===B||void 0===B||null===(r=B.firstName)||void 0===r?void 0:r.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(s=B.firstName)||void 0===s?void 0:s.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item extendable",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Surname",children:"Surname"}),(0,a.jsx)("input",(0,o.Z)({id:"Surname",type:"text"},q("surName",p.z2.surName))),B&&(null===B||void 0===B||null===(n=B.surName)||void 0===n?void 0:n.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(t=B.surName)||void 0===t?void 0:t.errorMessage})," "]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"Phone",children:"Phone Number"}),(0,a.jsx)("input",(0,o.Z)({id:"Phone",placeholder:"Mobile or regular Polish phone with country code like 048 669086566",type:"text"},q("phone",p.z2.phone))),B&&(null===B||void 0===B||null===(x=B.phone)||void 0===x?void 0:x.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(v=B.phone)||void 0===v?void 0:v.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"email",children:"Email"}),(0,a.jsx)("input",(0,o.Z)({id:"email",type:"text"},q("email",p.z2.email))),B&&(null===B||void 0===B||null===(f=B.email)||void 0===f?void 0:f.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(j=B.email)||void 0===j?void 0:j.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{htmlFor:"DoB",children:"Date of Birth"}),(0,a.jsx)("input",(0,o.Z)({id:"DoB",placeholder:"Date in yyyy-mm-dd or yyyy-m-dd format ",type:"text"},q("dob",p.z2.dob))),B&&(null===B||void 0===B||null===(g=B.dob)||void 0===g?void 0:g.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(N=B.dob)||void 0===N?void 0:N.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"address",children:"Address"}),(0,a.jsx)("input",(0,o.Z)({type:"text",id:"address"},q("address",p.z2.address))),B&&(null===B||void 0===B||null===(y=B.address)||void 0===y?void 0:y.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(b=B.address)||void 0===b?void 0:b.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item full-width",children:[(0,a.jsx)("label",{className:"required",htmlFor:"city",children:"City"}),(0,a.jsx)("input",(0,o.Z)({type:"text",id:"city"},q("city",p.z2.city))),B&&(null===B||void 0===B||null===(_=B.city)||void 0===_?void 0:_.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(E=B.city)||void 0===E?void 0:E.errorMessage})]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"state",children:"State"}),(0,a.jsx)("input",(0,o.Z)({type:"text",id:"state"},q("state",p.z2.state)))]}),(0,a.jsxs)("div",{className:"form-item",children:[(0,a.jsx)("label",{className:"required",htmlFor:"ZipCode",children:"Zip Code"}),(0,a.jsx)("input",(0,o.Z)({id:"ZipCode",type:"text",placeholder:" zip code in format xx-xxx"},q("zip",p.z2.zip))),B&&(null===B||void 0===B||null===(w=B.zip)||void 0===w?void 0:w.isError)&&(0,a.jsx)("span",{children:null===B||void 0===B||null===(Z=B.zip)||void 0===Z?void 0:Z.errorMessage})]})]})})})),b=function(e){var r=e.data,s=e.loadHandler;return(0,a.jsxs)("div",{className:"part",children:[(0,a.jsx)("img",{className:"part__image",src:r.part.part_img_url,alt:r.part.name,onLoad:s,onError:s}),(0,a.jsxs)("div",{className:"part__text-items",children:[(0,a.jsx)("div",{className:"part__item part__name",children:r.part.name}),(0,a.jsx)("a",{className:"part__item part__code",href:r.part.part_img_url,target:"blank",children:r.part.part_num})]})]})},_=s(6666),E=s.n(_),w=s(763),Z=s(7480),M=s(8592),z=s(9874),F=function(){var e=(0,i.v9)(m.eW),r=(0,z.B)(e,{skip:(0,M.Z)()}),s=r.data,n=r.isFetching,o=r.isError,d=(0,l.useRef)(null),c=s?(0,w.after)(s.length,(function(){var e;null===(e=d.current)||void 0===e||e.classList.add("active")})):function(){};return n?(0,a.jsx)(Z.TF,{}):o?(0,a.jsx)(t,{}):s&&!(0,w.isEmpty)(s)?(0,a.jsx)("div",{className:"parts",ref:d,children:s.map((function(e){return(0,a.jsx)(b,{data:e,loadHandler:c},E()())}))}):(0,a.jsx)(t,{})},k=function(){var e=(0,i.v9)(m.jX),r=e.name,s=e.num_parts,n=e.set_img_url,l="There are ".concat(s," parts in this minifig:");return(0,a.jsxs)("div",{className:"summary__main items",children:[(0,a.jsx)("h2",{className:"black fromLeft",children:"Summary"}),(0,a.jsxs)("div",{className:"minifigCard minifigCard--no-padding",children:[r&&n&&(0,a.jsx)(Z.t,{name:r,imageURL:n}),r&&(0,a.jsx)(Z.VG,{name:r})]}),s&&(0,a.jsx)("p",{children:l})]})},S=function(){return(0,a.jsxs)("div",{className:"summary",children:[(0,a.jsx)(k,{}),(0,a.jsx)(F,{}),(0,a.jsx)(Z.kD,{className:"button uppercased",type:"submit",form:u,children:"Submit"})]})},C=function(){return(0,M.Z)()?(0,a.jsx)(n,{message:"No Internet connection, try again some later"}):(0,a.jsxs)("main",{className:"order",children:[(0,a.jsx)(y,{}),(0,a.jsx)(S,{})]})},q=(0,i.$j)((function(e){return{message:e.fetch.message,isMessage:e.fetch.isMessage}}),{})(C)}}]);
//# sourceMappingURL=489.b0edc871.chunk.js.map